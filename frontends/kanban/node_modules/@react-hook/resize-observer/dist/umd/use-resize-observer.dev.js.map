{"version":3,"file":"use-resize-observer.dev.js","sources":["../../node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","../../node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","../../node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","../../node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","../../node_modules/@juggle/resize-observer/lib/utils/freeze.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js","../../node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","../../node_modules/@juggle/resize-observer/lib/utils/element.js","../../node_modules/@juggle/resize-observer/lib/utils/global.js","../../node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","../../node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","../../node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","../../node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","../../node_modules/@juggle/resize-observer/lib/utils/process.js","../../node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","../../node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","../../node_modules/@juggle/resize-observer/lib/utils/scheduler.js","../../node_modules/@juggle/resize-observer/lib/ResizeObservation.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserver.js","../../node_modules/@react-hook/passive-layout-effect/src/index.tsx","../../node_modules/@react-hook/latest/src/index.tsx","../../src/index.tsx"],"sourcesContent":["var resizeObservers = [];\nexport { resizeObservers };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n","var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n","var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n","export var freeze = function (obj) { return Object.freeze(obj); };\n","import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n","import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n","var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a, _b;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n","export var global = typeof window !== 'undefined' ? window : {};\n","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n","import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n","var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n","import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n","var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n","import * as React from 'react'\n\nconst usePassiveLayoutEffect =\n  React[\n    typeof document !== 'undefined' && document.createElement !== void 0\n      ? 'useLayoutEffect'\n      : 'useEffect'\n  ]\n\nexport default usePassiveLayoutEffect\n","import * as React from 'react'\n\nconst useLatest = <T extends any>(current: T) => {\n  const storedValue = React.useRef(current)\n  storedValue.current = current\n  return storedValue\n}\n\nexport default useLatest\n","/* eslint-disable no-return-assign */\n/* eslint-disable no-underscore-dangle */\nimport * as React from 'react'\nimport {\n  ResizeObserver as Polyfill,\n  ResizeObserverEntry,\n} from '@juggle/resize-observer'\nimport useLayoutEffect from '@react-hook/passive-layout-effect'\nimport useLatest from '@react-hook/latest'\n\nconst ResizeObserver =\n  typeof window !== 'undefined' && 'ResizeObserver' in window\n    ? // @ts-ignore\n      window.ResizeObserver\n    : Polyfill\n\n/**\n * A React hook that fires a callback whenever ResizeObserver detects a change to its size\n *\n * @param target A React ref created by `useRef()` or an HTML element\n * @param callback Invoked with a single `ResizeObserverEntry` any time\n *   the `target` resizes\n */\nfunction useResizeObserver<T extends HTMLElement>(\n  target: React.RefObject<T> | T | null,\n  callback: UseResizeObserverCallback\n): Polyfill {\n  const resizeObserver = getResizeObserver()\n  const storedCallback = useLatest(callback)\n\n  useLayoutEffect(() => {\n    let didUnsubscribe = false\n    const targetEl = target && 'current' in target ? target.current : target\n    if (!targetEl) return () => {}\n\n    function cb(entry: ResizeObserverEntry, observer: Polyfill) {\n      if (didUnsubscribe) return\n      storedCallback.current(entry, observer)\n    }\n\n    resizeObserver.subscribe(targetEl as HTMLElement, cb)\n\n    return () => {\n      didUnsubscribe = true\n      resizeObserver.unsubscribe(targetEl as HTMLElement, cb)\n    }\n  }, [target, resizeObserver, storedCallback])\n\n  return resizeObserver.observer\n}\n\nfunction createResizeObserver() {\n  let ticking = false\n  let allEntries: ResizeObserverEntry[] = []\n\n  const callbacks: Map<any, Array<UseResizeObserverCallback>> = new Map()\n\n  const observer = new ResizeObserver(\n    (entries: ResizeObserverEntry[], obs: Polyfill) => {\n      allEntries = allEntries.concat(entries)\n      if (!ticking) {\n        window.requestAnimationFrame(() => {\n          const triggered = new Set<Element>()\n          for (let i = 0; i < allEntries.length; i++) {\n            if (triggered.has(allEntries[i].target)) continue\n            triggered.add(allEntries[i].target)\n            const cbs = callbacks.get(allEntries[i].target)\n            cbs?.forEach((cb) => cb(allEntries[i], obs))\n          }\n          allEntries = []\n          ticking = false\n        })\n      }\n      ticking = true\n    }\n  )\n\n  return {\n    observer,\n    subscribe(target: HTMLElement, callback: UseResizeObserverCallback) {\n      observer.observe(target)\n      const cbs = callbacks.get(target) ?? []\n      cbs.push(callback)\n      callbacks.set(target, cbs)\n    },\n    unsubscribe(target: HTMLElement, callback: UseResizeObserverCallback) {\n      const cbs = callbacks.get(target) ?? []\n      if (cbs.length === 1) {\n        observer.unobserve(target)\n        callbacks.delete(target)\n        return\n      }\n      const cbIndex = cbs.indexOf(callback)\n      if (cbIndex !== -1) cbs.splice(cbIndex, 1)\n      callbacks.set(target, cbs)\n    },\n  }\n}\n\nlet _resizeObserver: ReturnType<typeof createResizeObserver>\n\nconst getResizeObserver = () =>\n  !_resizeObserver\n    ? (_resizeObserver = createResizeObserver())\n    : _resizeObserver\n\nexport type UseResizeObserverCallback = (\n  entry: ResizeObserverEntry,\n  observer: Polyfill\n) => any\n\nexport default useResizeObserver\n"],"names":["resizeObservers","ro","activeTargets","length","hasActiveObservations","some","skippedTargets","hasSkippedObservations","msg","deliverResizeLoopError","event","ErrorEvent","message","document","createEvent","initEvent","window","dispatchEvent","ResizeObserverBoxOptions","freeze","obj","Object","ResizeObserverSize","inlineSize","blockSize","DOMRectReadOnly","x","y","width","height","top","left","bottom","right","_a","rectangle","prototype","toJSON","fromRect","isSVG","target","SVGElement","isHidden","getBBox","_b","offsetWidth","offsetHeight","getClientRects","isElement","Element","scope","ownerDocument","defaultView","isReplacedElement","tagName","type","global","cache","WeakMap","scrollRegexp","verticalRegexp","IE","test","navigator","userAgent","parseDimension","pixel","parseFloat","size","switchSizes","zeroBoxes","devicePixelContentBoxSize","borderBoxSize","contentBoxSize","contentRect","calculateBoxSizes","forceRecalculation","has","get","set","cs","getComputedStyle","svg","ownerSVGElement","removePadding","boxSizing","writingMode","canScrollVertically","overflowY","canScrollHorizontally","overflowX","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","borderLeft","borderLeftWidth","horizontalPadding","verticalPadding","horizontalBorderArea","verticalBorderArea","horizontalScrollbarThickness","clientHeight","verticalScrollbarThickness","clientWidth","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","Math","round","devicePixelRatio","calculateBoxSize","observedBox","DEVICE_PIXEL_CONTENT_BOX","BORDER_BOX","ResizeObserverEntry","calculateDepthForNode","node","Infinity","depth","parent","parentNode","broadcastActiveObservations","shallowestDepth","callbacks","forEach","processObserver","entries","processTarget","ot","entry","targetDepth","push","lastReportedSize","resizeObserverCallback","callback","call","observer","splice","_i","callbacks_1","gatherActiveObservationsAtDepth","observationTargets","isActive","process","trigger","cb","notify","queueMicroTask","el_1","textContent","toggle_1","createTextNode","config","characterData","MutationObserver","observe","queueResizeObserver","ResizeObserver","requestAnimationFrame","watching","isWatching","CATCH_PERIOD","observerConfig","attributes","childList","subtree","events","time","timeout","Date","now","scheduled","Scheduler","_this","stopped","listener","schedule","until","elementsHaveResized","run","start","stop","body","addEventListener","name","removeEventListener","disconnect","scheduler","updateCount","n","skipNotifyOnElement","display","ResizeObservation","CONTENT_BOX","ResizeObserverDetail","resizeObserver","observerMap","getObservationIndex","i","ResizeObserverController","detail","options","firstObservation","box","index","lastObservation","indexOf","slice","unobserve","connect","arguments","TypeError","toString","usePassiveLayoutEffect","React","createElement","useLatest","current","storedValue","Polyfill","useResizeObserver","getResizeObserver","storedCallback","useLayoutEffect","didUnsubscribe","targetEl","subscribe","unsubscribe","createResizeObserver","ticking","allEntries","Map","obs","concat","triggered","Set","add","cbs","delete","cbIndex","_resizeObserver"],"mappings":"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"}