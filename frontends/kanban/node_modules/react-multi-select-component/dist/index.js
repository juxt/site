var De=Object.create;var L=Object.defineProperty,Te=Object.defineProperties,Fe=Object.getOwnPropertyDescriptor,Le=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertyNames,ce=Object.getOwnPropertySymbols,We=Object.getPrototypeOf,pe=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var de=(e,r,t)=>r in e?L(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,te=(e,r)=>{for(var t in r||(r={}))pe.call(r,t)&&de(e,t,r[t]);if(ce)for(var t of ce(r))_e.call(r,t)&&de(e,t,r[t]);return e},me=(e,r)=>Te(e,Le(r));var Re=(e,r)=>{for(var t in r)L(e,t,{get:r[t],enumerable:!0})},ue=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Ke(r))!pe.call(e,s)&&s!==t&&L(e,s,{get:()=>r[s],enumerable:!(n=Fe(r,s))||n.enumerable});return e};var S=(e,r,t)=>(t=e!=null?De(We(e)):{},ue(r||!e||!e.__esModule?L(t,"default",{value:e,enumerable:!0}):t,e)),He=e=>ue(L({},"__esModule",{value:!0}),e);var Je={};Re(Je,{Dropdown:()=>Y,MultiSelect:()=>Oe,SelectItem:()=>D,SelectPanel:()=>$});module.exports=He(Je);function re(e,{insertAt:r}={}){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r==="top"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}re(`.rmsc{--rmsc-main: #4285f4;--rmsc-hover: #f1f3f5;--rmsc-selected: #e2e6ea;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-content{position:absolute;z-index:1;top:100%;width:100%;padding-top:8px}.rmsc .dropdown-content .panel-content{overflow:hidden;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);box-shadow:0 0 0 1px #0000001a,0 4px 11px #0000001a}.rmsc .dropdown-container{position:relative;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border);border-radius:var(--rmsc-radius)}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-container:focus-within{box-shadow:var(--rmsc-main) 0 0 0 1px;border-color:var(--rmsc-main)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;height:var(--rmsc-h);cursor:default;outline:0}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{max-height:260px;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline-offset:-1px;outline-color:var(--rmsc-primary)}.rmsc .select-item:hover{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0;font-size:1em}.rmsc .search input:focus{background:var(--rmsc-hover)}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}
`);var z=S(require("react"));var E=S(require("react")),Be={allItemsAreSelected:"All items are selected.",clearSearch:"Clear Search",clearSelected:"Clear Selected",noOptions:"No options",search:"Search",selectAll:"Select All",selectAllFiltered:"Select All (Filtered)",selectSomeItems:"Select...",create:"Create"},Ue={value:[],hasSelectAll:!0,className:"multi-select",debounceDuration:200,options:[]},fe=E.default.createContext({}),he=({props:e,children:r})=>{let[t,n]=(0,E.useState)(e.options),s=p=>{var h;return((h=e.overrideStrings)==null?void 0:h[p])||Be[p]};return(0,E.useEffect)(()=>{n(e.options)},[e.options]),E.default.createElement(fe.Provider,{value:me(te(te({t:s},Ue),e),{options:t,setOptions:n})},r)},I=()=>E.default.useContext(fe);var c=S(require("react"));var H=require("react");function be(e,r){let t=(0,H.useRef)(!1);(0,H.useEffect)(()=>{t.current?e():t.current=!0},r)}var w=require("react"),Ve={when:!0,eventTypes:["keydown"]};function P(e,r,t){let n=(0,w.useMemo)(()=>Array.isArray(e)?e:[e],[e]),s=Object.assign({},Ve,t),{when:p,eventTypes:h}=s,v=(0,w.useRef)(r),{target:l}=s;(0,w.useEffect)(()=>{v.current=r});let u=(0,w.useCallback)(d=>{n.some(i=>d.key===i||d.code===i)&&v.current(d)},[n]);(0,w.useEffect)(()=>{if(p&&typeof window<"u"){let d=l?l.current:window;return h.forEach(i=>{d&&d.addEventListener(i,u)}),()=>{h.forEach(i=>{d&&d.removeEventListener(i,u)})}}},[p,h,n,l,r])}var b={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:"Space"};var a=S(require("react"));var ge=(e,r)=>{let t;return function(...n){clearTimeout(t),t=setTimeout(()=>{e.apply(null,n)},r)}};function ve(e,r){return r?e.filter(({label:t,value:n})=>t!=null&&n!=null&&t.toLowerCase().includes(r.toLowerCase())):e}var B=S(require("react")),U=()=>B.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-search-clear-icon gray"},B.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));var K=S(require("react"));var V=S(require("react")),$e=({checked:e,option:r,onClick:t,disabled:n})=>V.default.createElement("div",{className:`item-renderer ${n?"disabled":""}`},V.default.createElement("input",{type:"checkbox",onChange:t,checked:e,tabIndex:-1,disabled:n}),V.default.createElement("span",null,r.label)),xe=$e;var je=({itemRenderer:e=xe,option:r,checked:t,tabIndex:n,disabled:s,onSelectionChanged:p,onClick:h})=>{let v=(0,K.useRef)(),l=i=>{u(),i.preventDefault()},u=()=>{s||p(!t)},d=i=>{u(),h(i)};return P([b.ENTER,b.SPACE],l,{target:v}),K.default.createElement("label",{className:`select-item ${t?"selected":""}`,role:"option","aria-selected":t,tabIndex:n,ref:v},K.default.createElement(e,{option:r,checked:t,onClick:d,disabled:s}))},D=je;var W=S(require("react"));var Ye=({options:e,onClick:r,skipIndex:t})=>{let{disabled:n,value:s,onChange:p,ItemRenderer:h}=I(),v=(l,u)=>{n||p(u?[...s,l]:s.filter(d=>d.value!==l.value))};return W.default.createElement(W.default.Fragment,null,e.map((l,u)=>{let d=u+t;return W.default.createElement("li",{key:(l==null?void 0:l.key)||u},W.default.createElement(D,{tabIndex:d,option:l,onSelectionChanged:i=>v(l,i),checked:!!s.find(i=>i.value===l.value),onClick:i=>r(i,d),itemRenderer:h,disabled:l.disabled||n}))}))},Se=Ye;var ze=()=>{let{t:e,onChange:r,options:t,setOptions:n,value:s,filterOptions:p,ItemRenderer:h,disabled:v,disableSearch:l,hasSelectAll:u,ClearIcon:d,debounceDuration:i,isCreatable:q,onCreateOption:O}=I(),A=(0,a.useRef)(),x=(0,a.useRef)(),[f,_]=(0,a.useState)(""),[y,G]=(0,a.useState)(t),[C,R]=(0,a.useState)(""),[N,M]=(0,a.useState)(0),J=(0,a.useCallback)(ge(o=>R(o),i),[]),T=(0,a.useMemo)(()=>{let o=0;return l||(o+=1),u&&(o+=1),o},[l,u]),Q={label:e(f?"selectAllFiltered":"selectAll"),value:""},X=o=>{let m=y.filter(k=>!k.disabled).map(k=>k.value);if(o){let Me=[...s.map(ee=>ee.value),...m];return(p?y:t).filter(ee=>Me.includes(ee.value))}return s.filter(k=>!m.includes(k.value))},Z=o=>{let m=X(o);r(m)},g=o=>{J(o.target.value),_(o.target.value),M(0)},F=()=>{var o;R(""),_(""),(o=x==null?void 0:x.current)==null||o.focus()},se=o=>M(o),ke=o=>{switch(o.code){case b.ARROW_UP:le(-1);break;case b.ARROW_DOWN:le(1);break;default:return}o.stopPropagation(),o.preventDefault()};P([b.ARROW_DOWN,b.ARROW_UP],ke,{target:A});let Ee=()=>{M(0)},ae=async()=>{let o={label:f,value:f,__isNew__:!0};O&&(o=await O(f)),n([o,...t]),F(),r([...s,o])},Ie=async()=>p?await p(t,C):ve(t,C),le=o=>{let m=N+o;m=Math.max(0,m),m=Math.min(m,t.length+Math.max(T-1,0)),M(m)};(0,a.useEffect)(()=>{var o,m;(m=(o=A==null?void 0:A.current)==null?void 0:o.querySelector(`[tabIndex='${N}']`))==null||m.focus()},[N]);let[Ae,Pe]=(0,a.useMemo)(()=>{let o=y.filter(m=>!m.disabled);return[o.every(m=>s.findIndex(k=>k.value===m.value)!==-1),o.length!==0]},[y,s]);(0,a.useEffect)(()=>{Ie().then(G)},[C,t]);let ie=(0,a.useRef)();P([b.ENTER],ae,{target:ie});let Ne=q&&f&&!y.some(o=>(o==null?void 0:o.value)===f);return a.default.createElement("div",{className:"select-panel",role:"listbox",ref:A},!l&&a.default.createElement("div",{className:"search"},a.default.createElement("input",{placeholder:e("search"),type:"text","aria-describedby":e("search"),onChange:g,onFocus:Ee,value:f,ref:x,tabIndex:0}),a.default.createElement("button",{type:"button",className:"search-clear-button",hidden:!f,onClick:F,"aria-label":e("clearSearch")},d||a.default.createElement(U,null))),a.default.createElement("ul",{className:"options"},u&&Pe&&a.default.createElement(D,{tabIndex:T===1?0:1,checked:Ae,option:Q,onSelectionChanged:Z,onClick:()=>se(1),itemRenderer:h,disabled:v}),y.length?a.default.createElement(Se,{skipIndex:T,options:y,onClick:(o,m)=>se(m)}):Ne?a.default.createElement("li",{onClick:ae,className:"select-item creatable",tabIndex:1,ref:ie},`${e("create")} "${f}"`):a.default.createElement("li",{className:"no-options"},e("noOptions"))))},$=ze;var oe=S(require("react")),ye=({expanded:e})=>oe.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-heading-dropdown-arrow gray"},oe.default.createElement("path",{d:e?"M18 15 12 9 6 15":"M6 9L12 15 18 9"}));var ne=S(require("react"));var Ce=()=>{let{t:e,value:r,options:t,valueRenderer:n}=I(),s=r.length===0,p=r.length===t.length,h=n&&n(r,t);return s?ne.default.createElement("span",{className:"gray"},h||e("selectSomeItems")):ne.default.createElement("span",null,h||(p?e("allItemsAreSelected"):(()=>r.map(l=>l.label).join(", "))()))};var j=S(require("react")),we=({size:e=24})=>j.default.createElement("span",{style:{width:e,marginRight:"0.2rem"}},j.default.createElement("svg",{width:e,height:e,className:"spinner",viewBox:"0 0 50 50",style:{display:"inline",verticalAlign:"middle"}},j.default.createElement("circle",{cx:"25",cy:"25",r:"20",fill:"none",className:"path"})));var qe=()=>{let{t:e,onMenuToggle:r,ArrowRenderer:t,shouldToggleOnHover:n,isLoading:s,disabled:p,onChange:h,labelledBy:v,value:l,isOpen:u,defaultIsOpen:d,ClearSelectedIcon:i,closeOnChangedValue:q}=I();(0,c.useEffect)(()=>{q&&f(!1)},[l]);let[O,A]=(0,c.useState)(!0),[x,f]=(0,c.useState)(d),[_,y]=(0,c.useState)(!1),G=t||ye,C=(0,c.useRef)();be(()=>{r&&r(x)},[x]),(0,c.useEffect)(()=>{d===void 0&&typeof u=="boolean"&&(A(!1),f(u))},[u]);let R=g=>{var F;["text","button"].includes(g.target.type)&&[b.SPACE,b.ENTER].includes(g.code)||(O&&(g.code===b.ESCAPE?(f(!1),(F=C==null?void 0:C.current)==null||F.focus()):f(!0)),g.preventDefault())};P([b.ENTER,b.ARROW_DOWN,b.SPACE,b.ESCAPE],R,{target:C});let N=g=>{O&&n&&f(g)},M=()=>!_&&y(!0),J=g=>{!g.currentTarget.contains(g.relatedTarget)&&O&&(y(!1),f(!1))},T=()=>N(!0),Q=()=>N(!1),X=()=>{O&&f(s||p?!1:!x)},Z=g=>{g.stopPropagation(),h([]),O&&f(!1)};return c.default.createElement("div",{tabIndex:0,className:"dropdown-container","aria-labelledby":v,"aria-expanded":x,"aria-readonly":!0,"aria-disabled":p,ref:C,onFocus:M,onBlur:J,onMouseEnter:T,onMouseLeave:Q},c.default.createElement("div",{className:"dropdown-heading",onClick:X},c.default.createElement("div",{className:"dropdown-heading-value"},c.default.createElement(Ce,null)),s&&c.default.createElement(we,null),l.length>0&&i!==null&&c.default.createElement("button",{type:"button",className:"clear-selected-button",onClick:Z,disabled:p,"aria-label":e("clearSelected")},i||c.default.createElement(U,null)),c.default.createElement(G,{expanded:x})),x&&c.default.createElement("div",{className:"dropdown-content"},c.default.createElement("div",{className:"panel-content"},c.default.createElement($,null))))},Y=qe;var Ge=e=>z.default.createElement(he,{props:e},z.default.createElement("div",{className:`rmsc ${e.className||"multi-select"}`},z.default.createElement(Y,null))),Oe=Ge;0&&(module.exports={Dropdown,MultiSelect,SelectItem,SelectPanel});
