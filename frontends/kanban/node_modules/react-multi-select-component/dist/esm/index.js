var De=Object.defineProperty,Te=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var se=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var ae=(e,r,t)=>r in e?De(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,$=(e,r)=>{for(var t in r||(r={}))Le.call(r,t)&&ae(e,t,r[t]);if(se)for(var t of se(r))Ke.call(r,t)&&ae(e,t,r[t]);return e},le=(e,r)=>Te(e,Fe(r));function j(e,{insertAt:r}={}){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r==="top"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}j(`.rmsc{--rmsc-main: #4285f4;--rmsc-hover: #f1f3f5;--rmsc-selected: #e2e6ea;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-content{position:absolute;z-index:1;top:100%;width:100%;padding-top:8px}.rmsc .dropdown-content .panel-content{overflow:hidden;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);box-shadow:0 0 0 1px #0000001a,0 4px 11px #0000001a}.rmsc .dropdown-container{position:relative;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border);border-radius:var(--rmsc-radius)}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-container:focus-within{box-shadow:var(--rmsc-main) 0 0 0 1px;border-color:var(--rmsc-main)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;height:var(--rmsc-h);cursor:default;outline:0}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{max-height:260px;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline-offset:-1px;outline-color:var(--rmsc-primary)}.rmsc .select-item:hover{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0;font-size:1em}.rmsc .search input:focus{background:var(--rmsc-hover)}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}
`);import ee from"react";import Y,{useEffect as We,useState as _e}from"react";var Re={allItemsAreSelected:"All items are selected.",clearSearch:"Clear Search",clearSelected:"Clear Selected",noOptions:"No options",search:"Search",selectAll:"Select All",selectAllFiltered:"Select All (Filtered)",selectSomeItems:"Select...",create:"Create"},He={value:[],hasSelectAll:!0,className:"multi-select",debounceDuration:200,options:[]},ie=Y.createContext({}),ce=({props:e,children:r})=>{let[t,n]=_e(e.options),a=c=>{var u;return((u=e.overrideStrings)==null?void 0:u[c])||Re[c]};return We(()=>{n(e.options)},[e.options]),Y.createElement(ie.Provider,{value:le($($({t:a},He),e),{options:t,setOptions:n})},r)},O=()=>Y.useContext(ie);import v,{useEffect as Oe,useRef as Ze,useState as X}from"react";import{useEffect as Be,useRef as Ue}from"react";function de(e,r){let t=Ue(!1);Be(()=>{t.current?e():t.current=!0},r)}import{useCallback as Ve,useEffect as pe,useMemo as $e,useRef as je}from"react";var Ye={when:!0,eventTypes:["keydown"]};function E(e,r,t){let n=$e(()=>Array.isArray(e)?e:[e],[e]),a=Object.assign({},Ye,t),{when:c,eventTypes:u}=a,b=je(r),{target:s}=a;pe(()=>{b.current=r});let p=Ve(i=>{n.some(l=>i.key===l||i.code===l)&&b.current(i)},[n]);pe(()=>{if(c&&typeof window<"u"){let i=s?s.current:window;return u.forEach(l=>{i&&i.addEventListener(l,p)}),()=>{u.forEach(l=>{i&&i.removeEventListener(l,p)})}}},[c,u,n,s,r])}var f={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:"Space"};import S,{useCallback as Qe,useEffect as ge,useMemo as ve,useRef as G,useState as K}from"react";var me=(e,r)=>{let t;return function(...n){clearTimeout(t),t=setTimeout(()=>{e.apply(null,n)},r)}};function ue(e,r){return r?e.filter(({label:t,value:n})=>t!=null&&n!=null&&t.toLowerCase().includes(r.toLowerCase())):e}import z from"react";var F=()=>z.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-search-clear-icon gray"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));import he,{useRef as qe}from"react";import q from"react";var ze=({checked:e,option:r,onClick:t,disabled:n})=>q.createElement("div",{className:`item-renderer ${n?"disabled":""}`},q.createElement("input",{type:"checkbox",onChange:t,checked:e,tabIndex:-1,disabled:n}),q.createElement("span",null,r.label)),fe=ze;var Ge=({itemRenderer:e=fe,option:r,checked:t,tabIndex:n,disabled:a,onSelectionChanged:c,onClick:u})=>{let b=qe(),s=l=>{p(),l.preventDefault()},p=()=>{a||c(!t)},i=l=>{p(),u(l)};return E([f.ENTER,f.SPACE],s,{target:b}),he.createElement("label",{className:`select-item ${t?"selected":""}`,role:"option","aria-selected":t,tabIndex:n,ref:b},he.createElement(e,{option:r,checked:t,onClick:i,disabled:a}))},M=Ge;import L from"react";var Je=({options:e,onClick:r,skipIndex:t})=>{let{disabled:n,value:a,onChange:c,ItemRenderer:u}=O(),b=(s,p)=>{n||c(p?[...a,s]:a.filter(i=>i.value!==s.value))};return L.createElement(L.Fragment,null,e.map((s,p)=>{let i=p+t;return L.createElement("li",{key:(s==null?void 0:s.key)||p},L.createElement(M,{tabIndex:i,option:s,onSelectionChanged:l=>b(s,l),checked:!!a.find(l=>l.value===s.value),onClick:l=>r(l,i),itemRenderer:u,disabled:s.disabled||n}))}))},be=Je;var Xe=()=>{let{t:e,onChange:r,options:t,setOptions:n,value:a,filterOptions:c,ItemRenderer:u,disabled:b,disableSearch:s,hasSelectAll:p,ClearIcon:i,debounceDuration:l,isCreatable:W,onCreateOption:C}=O(),k=G(),g=G(),[m,D]=K(""),[x,_]=K(t),[y,T]=K(""),[I,A]=K(0),R=Qe(me(o=>T(o),l),[]),P=ve(()=>{let o=0;return s||(o+=1),p&&(o+=1),o},[s,p]),H={label:e(m?"selectAllFiltered":"selectAll"),value:""},B=o=>{let d=x.filter(w=>!w.disabled).map(w=>w.value);if(o){let Me=[...a.map(V=>V.value),...d];return(c?x:t).filter(V=>Me.includes(V.value))}return a.filter(w=>!d.includes(w.value))},U=o=>{let d=B(o);r(d)},h=o=>{R(o.target.value),D(o.target.value),A(0)},N=()=>{var o;T(""),D(""),(o=g==null?void 0:g.current)==null||o.focus()},te=o=>A(o),ke=o=>{switch(o.code){case f.ARROW_UP:oe(-1);break;case f.ARROW_DOWN:oe(1);break;default:return}o.stopPropagation(),o.preventDefault()};E([f.ARROW_DOWN,f.ARROW_UP],ke,{target:k});let Ee=()=>{A(0)},re=async()=>{let o={label:m,value:m,__isNew__:!0};C&&(o=await C(m)),n([o,...t]),N(),r([...a,o])},Ie=async()=>c?await c(t,y):ue(t,y),oe=o=>{let d=I+o;d=Math.max(0,d),d=Math.min(d,t.length+Math.max(P-1,0)),A(d)};ge(()=>{var o,d;(d=(o=k==null?void 0:k.current)==null?void 0:o.querySelector(`[tabIndex='${I}']`))==null||d.focus()},[I]);let[Ae,Pe]=ve(()=>{let o=x.filter(d=>!d.disabled);return[o.every(d=>a.findIndex(w=>w.value===d.value)!==-1),o.length!==0]},[x,a]);ge(()=>{Ie().then(_)},[y,t]);let ne=G();E([f.ENTER],re,{target:ne});let Ne=W&&m&&!x.some(o=>(o==null?void 0:o.value)===m);return S.createElement("div",{className:"select-panel",role:"listbox",ref:k},!s&&S.createElement("div",{className:"search"},S.createElement("input",{placeholder:e("search"),type:"text","aria-describedby":e("search"),onChange:h,onFocus:Ee,value:m,ref:g,tabIndex:0}),S.createElement("button",{type:"button",className:"search-clear-button",hidden:!m,onClick:N,"aria-label":e("clearSearch")},i||S.createElement(F,null))),S.createElement("ul",{className:"options"},p&&Pe&&S.createElement(M,{tabIndex:P===1?0:1,checked:Ae,option:H,onSelectionChanged:U,onClick:()=>te(1),itemRenderer:u,disabled:b}),x.length?S.createElement(be,{skipIndex:P,options:x,onClick:(o,d)=>te(d)}):Ne?S.createElement("li",{onClick:re,className:"select-item creatable",tabIndex:1,ref:ne},`${e("create")} "${m}"`):S.createElement("li",{className:"no-options"},e("noOptions"))))},J=Xe;import xe from"react";var Se=({expanded:e})=>xe.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-heading-dropdown-arrow gray"},xe.createElement("path",{d:e?"M18 15 12 9 6 15":"M6 9L12 15 18 9"}));import ye from"react";var Ce=()=>{let{t:e,value:r,options:t,valueRenderer:n}=O(),a=r.length===0,c=r.length===t.length,u=n&&n(r,t);return a?ye.createElement("span",{className:"gray"},u||e("selectSomeItems")):ye.createElement("span",null,u||(c?e("allItemsAreSelected"):(()=>r.map(s=>s.label).join(", "))()))};import Q from"react";var we=({size:e=24})=>Q.createElement("span",{style:{width:e,marginRight:"0.2rem"}},Q.createElement("svg",{width:e,height:e,className:"spinner",viewBox:"0 0 50 50",style:{display:"inline",verticalAlign:"middle"}},Q.createElement("circle",{cx:"25",cy:"25",r:"20",fill:"none",className:"path"})));var et=()=>{let{t:e,onMenuToggle:r,ArrowRenderer:t,shouldToggleOnHover:n,isLoading:a,disabled:c,onChange:u,labelledBy:b,value:s,isOpen:p,defaultIsOpen:i,ClearSelectedIcon:l,closeOnChangedValue:W}=O();Oe(()=>{W&&m(!1)},[s]);let[C,k]=X(!0),[g,m]=X(i),[D,x]=X(!1),_=t||Se,y=Ze();de(()=>{r&&r(g)},[g]),Oe(()=>{i===void 0&&typeof p=="boolean"&&(k(!1),m(p))},[p]);let T=h=>{var N;["text","button"].includes(h.target.type)&&[f.SPACE,f.ENTER].includes(h.code)||(C&&(h.code===f.ESCAPE?(m(!1),(N=y==null?void 0:y.current)==null||N.focus()):m(!0)),h.preventDefault())};E([f.ENTER,f.ARROW_DOWN,f.SPACE,f.ESCAPE],T,{target:y});let I=h=>{C&&n&&m(h)},A=()=>!D&&x(!0),R=h=>{!h.currentTarget.contains(h.relatedTarget)&&C&&(x(!1),m(!1))},P=()=>I(!0),H=()=>I(!1),B=()=>{C&&m(a||c?!1:!g)},U=h=>{h.stopPropagation(),u([]),C&&m(!1)};return v.createElement("div",{tabIndex:0,className:"dropdown-container","aria-labelledby":b,"aria-expanded":g,"aria-readonly":!0,"aria-disabled":c,ref:y,onFocus:A,onBlur:R,onMouseEnter:P,onMouseLeave:H},v.createElement("div",{className:"dropdown-heading",onClick:B},v.createElement("div",{className:"dropdown-heading-value"},v.createElement(Ce,null)),a&&v.createElement(we,null),s.length>0&&l!==null&&v.createElement("button",{type:"button",className:"clear-selected-button",onClick:U,disabled:c,"aria-label":e("clearSelected")},l||v.createElement(F,null)),v.createElement(_,{expanded:g})),g&&v.createElement("div",{className:"dropdown-content"},v.createElement("div",{className:"panel-content"},v.createElement(J,null))))},Z=et;var tt=e=>ee.createElement(ce,{props:e},ee.createElement("div",{className:`rmsc ${e.className||"multi-select"}`},ee.createElement(Z,null))),rt=tt;export{Z as Dropdown,rt as MultiSelect,M as SelectItem,J as SelectPanel};
