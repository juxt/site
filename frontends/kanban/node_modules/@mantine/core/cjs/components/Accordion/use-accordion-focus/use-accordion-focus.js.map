{"version":3,"file":"use-accordion-focus.js","sources":["../../../../src/components/Accordion/use-accordion-focus/use-accordion-focus.ts"],"sourcesContent":["import { useRef } from 'react';\nimport { useDidUpdate } from '@mantine/hooks';\n\nexport function useAccordionFocus(itemsCount: number) {\n  const controlsRefs = useRef<HTMLButtonElement[]>([]);\n\n  const handleItemKeydown = (index: number) => (event: React.KeyboardEvent<HTMLButtonElement>) => {\n    if (event.code === 'ArrowDown') {\n      event.preventDefault();\n      const nextFocusElement = controlsRefs.current[index + 1];\n      if (nextFocusElement) {\n        nextFocusElement.focus();\n      } else {\n        controlsRefs.current[0]?.focus();\n      }\n    }\n\n    if (event.code === 'ArrowUp') {\n      event.preventDefault();\n      const previousFocusElement = controlsRefs.current[index - 1];\n      if (previousFocusElement) {\n        previousFocusElement.focus();\n      } else {\n        controlsRefs.current[controlsRefs.current.length - 1]?.focus();\n      }\n    }\n  };\n\n  const assignControlRef = (index: number) => (node: HTMLButtonElement) => {\n    controlsRefs.current[index] = node;\n  };\n\n  useDidUpdate(() => {\n    controlsRefs.current = controlsRefs.current.slice(0, itemsCount);\n  }, [itemsCount]);\n\n  return { handleItemKeydown, assignControlRef };\n}\n"],"names":["useRef","useDidUpdate"],"mappings":";;;;;;;AAEO,SAAS,iBAAiB,CAAC,UAAU,EAAE;AAC9C,EAAE,MAAM,YAAY,GAAGA,YAAM,CAAC,EAAE,CAAC,CAAC;AAClC,EAAE,MAAM,iBAAiB,GAAG,CAAC,KAAK,KAAK,CAAC,KAAK,KAAK;AAClD,IAAI,IAAI,EAAE,EAAE,EAAE,CAAC;AACf,IAAI,IAAI,KAAK,CAAC,IAAI,KAAK,WAAW,EAAE;AACpC,MAAM,KAAK,CAAC,cAAc,EAAE,CAAC;AAC7B,MAAM,MAAM,gBAAgB,GAAG,YAAY,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;AAC/D,MAAM,IAAI,gBAAgB,EAAE;AAC5B,QAAQ,gBAAgB,CAAC,KAAK,EAAE,CAAC;AACjC,OAAO,MAAM;AACb,QAAQ,CAAC,EAAE,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC;AACrE,OAAO;AACP,KAAK;AACL,IAAI,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,EAAE;AAClC,MAAM,KAAK,CAAC,cAAc,EAAE,CAAC;AAC7B,MAAM,MAAM,oBAAoB,GAAG,YAAY,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;AACnE,MAAM,IAAI,oBAAoB,EAAE;AAChC,QAAQ,oBAAoB,CAAC,KAAK,EAAE,CAAC;AACrC,OAAO,MAAM;AACb,QAAQ,CAAC,EAAE,GAAG,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC;AACnG,OAAO;AACP,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,MAAM,gBAAgB,GAAG,CAAC,KAAK,KAAK,CAAC,IAAI,KAAK;AAChD,IAAI,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;AACvC,GAAG,CAAC;AACJ,EAAEC,kBAAY,CAAC,MAAM;AACrB,IAAI,YAAY,CAAC,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;AACrE,GAAG,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC;AACnB,EAAE,OAAO,EAAE,iBAAiB,EAAE,gBAAgB,EAAE,CAAC;AACjD;;;;"}